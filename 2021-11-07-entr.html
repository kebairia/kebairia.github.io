<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-05-10 Wed 21:56 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>entr</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Zakaria.k" />
<meta name="keywords" content="emacs,test" />
<link rel="stylesheet"href="css/main.css" type="text/css" />
<header> <h4> <a href="https://kebairia.github.io" title="Home" class="home">
	          <img src="img/home.svg" width="50" alt="Home" />
	          </a>

	          <a href="files/feed.rss" title="RSS Feed" type="application/rss+xml" class="rss">
	          <img src="img/rss.svg" alt="RSS icon" />

	          </a>
            <a href="files/cv.pdf" title="My Resume" type="application/pdf" class="resume">
            <img src="img/cv.svg" width="25"  alt="My CV icon" /> </a>

            </h4>
	          </header>
</head>
<body>
<div id="content">
<h1 class="title">entr
<br />
<span class="subtitle">Run arbitrary commands when files change</span>
</h1>
<div class="date">
<p>
07 Nov 2021 Wed
</p>

</div>

<p>
Long ago, I came across a tool called <a href="http://eradman.com/entrproject/">entr</a>, and it's a pretty cool program actually.
What it does is really simple, but yet powerful, it let you run any arbitrary set of commands when a specific files changes.<br />
</p>

<p>
The <a href="http://eradman.com/entrproject/">entr's website</a> has a great explanation for it with a bunch of great examples to start with.<br />
But long story short, you pass a set of files (using regex for example) to the command through <code>stdin</code>, and then make it run
a script or a command whenever one of these file changes.<br />
For example, here I make it monitor any <code>markdown</code> files in my current directory, and execute a script that commit and pushes the changes
i made automatically.
</p>
<div class="org-src-container">
<pre class="src src-sh">find -iname <span style="font-style: italic;">"*.md"</span> | entr commit-and-push.sh
</pre>
</div>
<div id="outline-container-orgba5a852" class="outline-2">
<h2 id="orgba5a852"><span class="section-number-2">1</span> My use case</h2>
<div class="outline-text-2" id="text-1">
<p>
I can think of numerous use cases and scenarios in which this utility may be quite useful, but for the time being,
I'm integrating it into my blog writing workflow.
</p>

<div class="note">
<p>
<a href="https://orgmode.org/">org mode</a> is a markdown language and a major mode for Emacs
</p>

</div>

<p>
Before i publish any blog online, I use a small local web server to see the output result locally .
Of course I use Emacs and <a href="https://orgmode.org/">org mode</a> to create my own blog posts, and I use another Emacs package called 
<a href="https://github.com/skeeto/emacs-web-server">simple-httpd</a> to create a simple web server &#x2014; as the name implies! &#x2014; .
</p>

<p>
The issue I was having was that I had to rebuild the <code>html</code> files from the <code>org</code> files every time I wanted to see the output.
I wrote a simple shell script to accomplish this, but still, you need to run it manually.
</p>

<p>
You can see now how <b>entr</b> can fits into this workflow.
Why don't I use <b>entr</b> to monitor my <code>org</code> files and make it run the <code>build.sh</code> script whenever I make a change ðŸ˜€?
</p>

<div class="org-src-container">
<pre class="src src-sh">find . -iname <span style="font-style: italic;">"*.org"</span> | entr ./build.sh
</pre>
</div>

<p>
And that's it, it's that simple.<br />
All I have to do now is to write my posts, save them, and then reload the web page to see the results.<br />
Wonderful.
</p>
</div>
</div>

<div id="outline-container-org651c41e" class="outline-2">
<h2 id="org651c41e"><span class="section-number-2">2</span> References</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li><a href="https://github.com/skeeto/emacs-web-server">simple-httpd GitHub repo</a></li>
<li><a href="http://eradman.com/entrproject/">entr(1)</a></li>
<li><a href="https://jvns.ca/blog/2020/06/28/entr/">Julia Evans's blog post on entr</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">

<p class="postamble"> 

<a href="http://creativecommons.org/licenses/by-sa/4.0/" class="crc">
<img src="img/crc.png" alt="Creative Commons License" title="Creative Commons License" />

<a href="https://www.linkedin.com/in/zakaria-kebairia/" title="LinkedIn account" class="social">
<img src="img/social/linkedin-icon-logo.svg" width="45" alt="LinkedIn Account" />
</a>

<a href="https://twitter.com/z_kebairia" title="Twitter Account" class="social">
<img src="img/social/twitter-logo.svg" width="40" alt="Twitter Account" /> </a>

<a href="https://www.youtube.com/channel/UC7OqXJDFQI8_WFC6WnsWCrg" title="Youtube Account" class="social">
<img src="img/social/youtube-black-logo.svg" width="40" alt="Youtube Account" /> </a>

<a href="https://www.github.com/kebairia" title="GitHub Account" class="social">
<img src="img/social/github.svg" width="43" alt="GitHub Account" /> </a>

<br>

<p class="credit">
Copyright &copy  2023 Zakaria Kebairia
<br>
Content licensed <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA 4.0</a> unless otherwise noted.

</p>
</div>
</body>
</html>
