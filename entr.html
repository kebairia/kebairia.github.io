<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-11-10 Wed 16:32 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>entr</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Zakaria.k" />
<meta name="keywords" content="emacs,test" />
<link rel="stylesheet"href="css/main.css" type="text/css" />
<header>
		      <h4>
		      <a href="https://kebairia.github.io" title="Home" class="home">
		      <img src="img/home.svg" width="50" alt="Home" />
		      </a>
		      <a href="files/feed.rss" title="RSS Feed" type="application/rss+xml" class="rss">
		      <img src="img/rss.svg" alt="RSS icon" />
		      </a>
                      <a href="files/cv.pdf" title="My Resume" type="application/pdf" class="resume">
                      <img src="img/cv.svg" width="25"  alt="My CV icon" />
                      </a>
                      </h4>
		      </header>
</head>
<body>
<div id="content">
<h1 class="title">entr
<br />
<span class="subtitle">Run arbitrary commands when files change</span>
</h1>
<p>
Long ago, I came across a tool called <a href="http://eradman.com/entrproject/">entr</a>, and it's a pretty cool program actually.
What it does is really simple, but yet powerful, it let you run any arbitrary set of commands when a specific files changes.<br />
</p>

<p>
The <a href="http://eradman.com/entrproject/">entr's website</a> has a great explanation for it with a bunch of great examples to start with.<br />
But long story short, you pass a set of files (using regex for example) to the command through <code>stdin</code>, and then make it run
a script or a command whenever one of these file changes.<br />
For example, here I make it monitor any <code>markdown</code> files in my current directory, and execute a script that commit and pushes the changes
i made automatically.
</p>
<div class="org-src-container">
<pre class="src src-sh">find -iname <span style="font-style: italic;">"*.md"</span> | entr commit-and-push.sh
</pre>
</div>
<div id="outline-container-orgc235f49" class="outline-2">
<h2 id="orgc235f49"><span class="section-number-2">1</span> My use case</h2>
<div class="outline-text-2" id="text-1">
<p>
I can think of numerous use cases and scenarios in which this utility may be quite useful, but for the time being,
I'm integrating it into my blog writing workflow.
</p>

<div class="note">
<p>
<a href="https://orgmode.org/">org mode</a> is a markdown language and a major mode for Emacs
</p>

</div>

<p>
Before i publish any blog online, I use a small local web server to see the output result locally .
Of course I use Emacs and <a href="https://orgmode.org/">org mode</a> to create my own blog posts, and I use another Emacs package called 
<a href="https://github.com/skeeto/emacs-web-server">simple-httpd</a> to create a simple web server &#x2014; as the name implies! &#x2014; .
</p>

<p>
The issue I was having was that I had to rebuild the <code>html</code> files from the <code>org</code> files every time I wanted to see the output.
I wrote a simple shell script to accomplish this, but still, you need to run it manually.
</p>

<p>
You can see now how <b>entr</b> can fits into this workflow.
Why don't I use <b>entr</b> to monitor my <code>org</code> files and make it run the <code>build.sh</code> script whenever I make a change ðŸ˜€?
</p>

<div class="org-src-container">
<pre class="src src-sh">find . -iname <span style="font-style: italic;">"*.org"</span> | entr ./build.sh
</pre>
</div>

<p>
And that's it, it's that simple.<br />
All I have to do now is to write my posts, save them, and then reload the web page to see the results.<br />
Wonderful.
</p>
</div>
</div>

<div id="outline-container-org0e8bcb5" class="outline-2">
<h2 id="org0e8bcb5"><span class="section-number-2">2</span> References</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li><a href="https://github.com/skeeto/emacs-web-server">simple-httpd GitHub repo</a></li>
<li><a href="http://eradman.com/entrproject/">entr(1)</a></li>
<li><a href="https://jvns.ca/blog/2020/06/28/entr/">Julia Evans's blog post on entr</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">

<p class="postamble"> 
<a href="https://kebairia.github.io/index.html">Index</a>
&nbsp
<a href="mailto:4.kebairia@gmail.com">email</a>
&nbsp
<a href="https://www.github.com/kebairia">GitHub</a>
&nbsp
<a href="https://www.linkedin.com/in/zakaria-kebairia/">LinkedIn</a>
&nbsp
<br>
&copy 2021 Zakaria Kebairia
</p>
</div>
</body>
</html>
